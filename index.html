<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WF-EROAD Onboarding</title>
    
    <script crossorigin src="https://unpkg.com/react@18.2.0/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone@7.23.5/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body { 
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #ffffff;
            color: #000000;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        .phase-card {
            background: #ffffff;
            border: 1px solid #e5e5e5;
            padding: 40px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            position: relative;
        }
        
        .phase-card:hover {
            border-color: #000000;
            box-shadow: 0 4px 24px rgba(0,0,0,0.06);
        }
        
        .phase-card.critical {
            border-color: #000000;
            border-width: 2px;
        }
        
        .phase-number {
            font-size: 14px;
            font-weight: 700;
            letter-spacing: 2px;
            color: #999999;
            margin-bottom: 16px;
        }
        
        .phase-title {
            font-size: 24px;
            font-weight: 700;
            color: #000000;
            margin-bottom: 8px;
            line-height: 1.2;
        }
        
        .phase-subtitle {
            font-size: 15px;
            font-weight: 400;
            color: #666666;
            line-height: 1.5;
        }
        
        .phase-meta {
            display: flex;
            gap: 24px;
            margin-top: 24px;
            padding-top: 24px;
            border-top: 1px solid #f0f0f0;
        }
        
        .meta-item {
            font-size: 13px;
            color: #999999;
        }
        
        .meta-value {
            font-weight: 600;
            color: #000000;
        }
        
        .critical-badge {
            position: absolute;
            top: 40px;
            right: 40px;
            background: #000000;
            color: #ffffff;
            padding: 6px 12px;
            font-size: 11px;
            font-weight: 700;
            letter-spacing: 1px;
        }
        
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.8);
            backdrop-filter: blur(4px);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.2s ease;
            padding: 40px;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .modal-content {
            background: #ffffff;
            max-width: 800px;
            width: 100%;
            max-height: 85vh;
            overflow-y: auto;
            animation: slideUp 0.3s ease;
        }
        
        @keyframes slideUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .step-item {
            border-bottom: 1px solid #f0f0f0;
            padding: 32px 0;
        }
        
        .step-item:last-child {
            border-bottom: none;
        }
        
        .step-header {
            display: flex;
            align-items: start;
            gap: 20px;
            margin-bottom: 16px;
        }
        
        .step-number {
            width: 32px;
            height: 32px;
            background: #000000;
            color: #ffffff;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: 700;
            flex-shrink: 0;
        }
        
        .step-title {
            font-size: 18px;
            font-weight: 600;
            color: #000000;
            flex: 1;
        }
        
        .badge {
            padding: 4px 10px;
            font-size: 11px;
            font-weight: 700;
            letter-spacing: 0.5px;
            border: 1px solid #e5e5e5;
            color: #666666;
        }
        
        .badge-critical {
            background: #000000;
            color: #ffffff;
            border-color: #000000;
        }
        
        .badge-high {
            border-color: #000000;
            color: #000000;
        }
        
        .step-meta {
            font-size: 14px;
            color: #666666;
            margin-bottom: 16px;
            padding-left: 52px;
        }
        
        .info-box {
            padding: 20px;
            background: #fafafa;
            border-left: 2px solid #e5e5e5;
            margin-top: 16px;
            margin-left: 52px;
        }
        
        .info-box.critical {
            background: #000000;
            border-left-color: #000000;
            color: #ffffff;
        }
        
        .info-box.critical .info-label {
            color: #999999;
        }
        
        .info-label {
            font-size: 11px;
            font-weight: 700;
            letter-spacing: 1px;
            color: #999999;
            margin-bottom: 8px;
            text-transform: uppercase;
        }
        
        .info-content {
            font-size: 14px;
            line-height: 1.6;
        }
        
        .info-box.critical .info-content {
            color: #ffffff;
        }
        
        .info-box:not(.critical) .info-content {
            color: #666666;
        }
        
        .header {
            background: #ffffff;
            border-bottom: 1px solid #e5e5e5;
            padding: 32px 40px;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .btn {
            background: #000000;
            color: #ffffff;
            border: none;
            padding: 12px 24px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            font-family: 'Inter', sans-serif;
        }
        
        .btn:hover {
            background: #333333;
        }
        
        .btn-outline {
            background: transparent;
            color: #000000;
            border: 1px solid #e5e5e5;
        }
        
        .btn-outline:hover {
            background: #fafafa;
            border-color: #000000;
        }
        
        .alert-banner {
            background: #000000;
            color: #ffffff;
            padding: 24px 40px;
            margin-bottom: 40px;
        }
        
        .alert-title {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 4px;
            letter-spacing: 0.5px;
        }
        
        .alert-text {
            font-size: 14px;
            color: #cccccc;
        }
        
        @media (max-width: 1024px) {
            .phase-grid {
                grid-template-columns: 1fr !important;
            }
        }
        
        @media (max-width: 640px) {
            .header {
                padding: 24px 20px;
            }
            .phase-card {
                padding: 24px;
            }
            .modal-overlay {
                padding: 20px;
            }
            .info-box {
                margin-left: 0;
            }
            .step-meta {
                padding-left: 0;
            }
            .step-header {
                flex-direction: column;
                gap: 12px;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        const PHASES = [
            {
                id: 1,
                title: 'Kickoff & Setup',
                subtitle: 'Establish foundational accounts and configurations',
                duration: '2–3 days',
                steps: 4,
                critical: false,
                details: [
                    { title: 'Cognito Form Collection', owner: 'EROAD Sales', type: 'Manual', gaps: ['No timezone field', 'No WF group checkbox'], ideal: 'Auto-filled form with validation' },
                    { title: 'MyEROAD Account Creation', owner: 'EROAD Sales', type: 'Manual', gaps: ['Insecure email delivery'], ideal: 'Secure automated provisioning' },
                    { title: 'Partner API Key Generation', owner: 'EROAD Sales Ops', type: 'Manual', gaps: ['24h expiry', 'Key type confusion'], ideal: 'Extended validity + clear labeling' },
                    { title: 'WF Enterprise Setup', owner: 'WF Admin (Sai)', type: 'Manual', gaps: ['Manual Gethome-safe coordination'], ideal: 'Self-service creation' }
                ]
            },
            {
                id: 2,
                title: 'Integration & Data',
                subtitle: 'Connect systems and sync data',
                duration: '1–2 days',
                steps: 7,
                critical: false,
                details: [
                    { title: 'API Key Integration', owner: 'WF Admin (Sai)', type: 'Manual', gaps: ['No auto-validation'], ideal: 'Automated validation + health checks' },
                    { title: 'Fleet Group Selection', owner: 'WF Onboarding (Sai)', type: 'Manual', gaps: ['Wrong group = missing vehicles'], ideal: 'Preflight check with % coverage' },
                    { title: 'Organization Creation', owner: 'WF Admin', type: 'Manual', gaps: ['Timezone mismatches'], ideal: 'Auto-suggest from Cognito' },
                    { title: 'Team Creation', owner: 'WF Admin', type: 'Manual', gaps: ['Manual one-by-one'], ideal: 'Bulk creation from CSV' },
                    { title: 'User Bulk Upload', owner: 'WF Admin', type: 'Manual', severity: 'HIGH', gaps: ['Email spam', 'Dummy email workaround', '100 user limit'], ideal: 'SSO provisioning + automated bot' },
                    { title: 'Team Leader Assignment', owner: 'WF Admin', type: 'Manual', gaps: ['No priority field'], ideal: 'Explicit priority UI' },
                    { title: 'Vehicle-User Mapping', owner: 'WF Admin', type: 'Manual', severity: 'HIGH', gaps: ['Manual per vehicle', 'Unmapped = no alerts'], ideal: 'Bulk mapping with progress indicator' }
                ]
            },
            {
                id: 3,
                title: 'Monitoring Operations',
                subtitle: 'Activate live monitoring and workflows',
                duration: 'Ongoing',
                steps: 5,
                critical: true,
                details: [
                    { title: 'Call Center Enablement', owner: 'Gethome-safe + WF', type: 'Manual', gaps: ['Team dependency'], ideal: 'Auto-enable after preflight' },
                    { title: 'Operator Workflow', owner: 'Call Center Ops', type: 'Manual', gaps: ['Operators skip Done clicks'], ideal: 'Embedded SOP with forced completion' },
                    { title: 'Activity PDF Upload', owner: 'Call Center Ops', type: 'Manual', gaps: ['Manual Ctrl+P and upload'], ideal: 'Auto-generate and store PDFs' },
                    { 
                        title: 'Monitoring Activation Toggle', 
                        owner: 'EROAD + WF', 
                        type: 'Manual', 
                        severity: 'CRITICAL',
                        description: 'Customer controls monitoring ON/OFF in MyEROAD but Welfare First has zero visibility. No API, no webhook, no timestamp. This creates billing misalignment and operational blind spots.',
                        gaps: ['Zero visibility of toggle', 'No API/webhook', 'Billing blind spot'], 
                        ideal: 'EROAD webhook with timestamp + vehicle list'
                    },
                    { 
                        title: 'Offboarding Process', 
                        owner: 'WF + EROAD', 
                        type: 'Manual', 
                        severity: 'CRITICAL',
                        description: 'When WF offboards a vehicle, EROAD is not automatically notified. EROAD continues billing, causing manual reconciliation and disputes.',
                        gaps: ['Manual email', 'EROAD not notified', 'Continued billing'], 
                        ideal: 'Auto-notification with exact timestamp'
                    }
                ]
            },
            {
                id: 4,
                title: 'Tools & Automation',
                subtitle: 'Supporting systems and improvements',
                duration: 'Continuous',
                steps: 5,
                critical: false,
                details: [
                    { title: 'Credentials Management', owner: 'WF / InfoSec', type: 'Manual', severity: 'HIGH', gaps: ['Teams doc storage', 'Security risk'], ideal: 'Enterprise secrets manager' },
                    { title: 'Excel Tracking', owner: 'WF Product', type: 'Manual', gaps: ['Manual', 'Out of sync'], ideal: 'Live dashboard with % completion' },
                    { title: 'Email Verification Bot', owner: 'Engineering (Tony)', type: 'Automated', gaps: ['Not fully deployed'], ideal: 'Fully automated and integrated' },
                    { title: 'Browser Extension', owner: 'Engineering / InfoSec', type: 'Automated', gaps: ['Awaiting InfoSec approval'], ideal: 'Approved and deployed' },
                    { title: 'Preflight Checks', owner: 'Engineering', type: 'Automated', gaps: ['Not implemented'], ideal: 'Full validation suite' }
                ]
            }
        ];

        function App() {
            const [selectedPhase, setSelectedPhase] = useState(null);
            const criticalCount = PHASES.filter(p => p.critical).length;

            return (
                <div className="min-h-screen bg-white">
                    <div className="header">
                        <div className="max-w-7xl mx-auto">
                            <div className="flex items-center justify-between">
                                <div>
                                    <h1 className="text-3xl font-bold mb-1" style={{ letterSpacing: '-0.5px' }}>
                                        Welfare First — EROAD Onboarding
                                    </h1>
                                    <p className="text-base text-gray-600">A structured 4-phase implementation process</p>
                                </div>
                                <div className="flex gap-3">
                                    <button className="btn-outline btn">Export CSV</button>
                                    <button className="btn">View Documentation</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div className="max-w-7xl mx-auto px-8 py-12">
                        {criticalCount > 0 && (
                            <div className="alert-banner mb-12">
                                <div className="alert-title">{criticalCount} CRITICAL ISSUE{criticalCount > 1 ? 'S' : ''} REQUIRE ATTENTION</div>
                                <div className="alert-text">Billing misalignment and operational visibility gaps</div>
                            </div>
                        )}

                        <div className="phase-grid grid grid-cols-2 gap-px bg-gray-200">
                            {PHASES.map(phase => (
                                <div 
                                    key={phase.id}
                                    className={`phase-card ${phase.critical ? 'critical' : ''}`}
                                    onClick={() => setSelectedPhase(phase)}
                                >
                                    {phase.critical && <div className="critical-badge">CRITICAL</div>}
                                    <div className="phase-number">PHASE {phase.id}</div>
                                    <h2 className="phase-title">{phase.title}</h2>
                                    <p className="phase-subtitle">{phase.subtitle}</p>
                                    <div className="phase-meta">
                                        <div className="meta-item">
                                            <span className="meta-value">{phase.duration}</span>
                                        </div>
                                        <div className="meta-item">
                                            <span className="meta-value">{phase.steps}</span> steps
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>

                    {selectedPhase && (
                        <div className="modal-overlay" onClick={() => setSelectedPhase(null)}>
                            <div className="modal-content" onClick={(e) => e.stopPropagation()}>
                                <div className="p-12 border-b border-gray-200">
                                    <button 
                                        onClick={() => setSelectedPhase(null)}
                                        className="float-right text-3xl font-light text-gray-400 hover:text-black transition-colors leading-none"
                                        style={{ marginTop: '-8px' }}
                                    >
                                        ×
                                    </button>
                                    <div className="phase-number">PHASE {selectedPhase.id}</div>
                                    <h2 className="text-4xl font-bold mb-3" style={{ letterSpacing: '-0.5px' }}>{selectedPhase.title}</h2>
                                    <p className="text-lg text-gray-600">{selectedPhase.subtitle}</p>
                                    <div className="flex gap-8 mt-8">
                                        <div>
                                            <div className="text-sm text-gray-500 mb-1">Duration</div>
                                            <div className="text-xl font-semibold">{selectedPhase.duration}</div>
                                        </div>
                                        <div>
                                            <div className="text-sm text-gray-500 mb-1">Total Steps</div>
                                            <div className="text-xl font-semibold">{selectedPhase.steps}</div>
                                        </div>
                                    </div>
                                </div>

                                <div className="p-12">
                                    {selectedPhase.details.map((step, idx) => (
                                        <div key={idx} className="step-item">
                                            <div className="step-header">
                                                <div className="step-number">{idx + 1}</div>
                                                <div className="flex-1">
                                                    <div className="flex items-center gap-3 flex-wrap">
                                                        <h3 className="step-title">{step.title}</h3>
                                                        {step.severity === 'CRITICAL' && <span className="badge badge-critical">CRITICAL</span>}
                                                        {step.severity === 'HIGH' && <span className="badge badge-high">HIGH PRIORITY</span>}
                                                        <span className="badge">{step.type.toUpperCase()}</span>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <div className="step-meta">
                                                Owner: {step.owner}
                                            </div>

                                            {step.description && (
                                                <div className="info-box critical">
                                                    <div className="info-label">Critical Issue</div>
                                                    <div className="info-content">{step.description}</div>
                                                </div>
                                            )}

                                            {step.gaps && step.gaps.length > 0 && (
                                                <div className="info-box">
                                                    <div className="info-label">Current Gaps</div>
                                                    <div className="info-content">
                                                        {step.gaps.map((gap, i) => (
                                                            <div key={i} className="mb-1">• {gap}</div>
                                                        ))}
                                                    </div>
                                                </div>
                                            )}

                                            {step.ideal && (
                                                <div className="info-box">
                                                    <div className="info-label">Ideal State</div>
                                                    <div className="info-content">{step.ideal}</div>
                                                </div>
                                            )}
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        }

        ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>
</body>
</html>
